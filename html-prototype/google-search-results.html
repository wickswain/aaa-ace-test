<!DOCTYPE html>
<html dir="ltr" lang="en-US">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- Axis41 Stylesheets, Scripts & Title -->
    <title>AAA</title>
    <!-- Browser / Bookmark icon -->
    <!--<link rel="apple-touch-icon" sizes="60x60" href="images/favicon/apple-icon-60x60.png" />
      <link rel="apple-touch-icon" sizes="120x120" href="images/favicon/apple-icon-120x120.png" />
      <link rel="icon" type="image/png" sizes="16x16" href="images/favicon/favicon-16x16.png" />-->
    <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" href="clientlibs/ace-www/thirdparty/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="clientlibs/ace-www/thirdparty/font_roboto/css/fonts.css" />
    <link rel="stylesheet" type="text/css" href="clientlibs/ace-www/thirdparty/font_robotoslab/css/fonts.css" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Latest compiled and minified JS -->
    <script type="text/javascript" src="clientlibs/ace-www/thirdparty/jquery/js/jquery.min.js"></script>
    <script type="text/javascript" src="clientlibs/ace-www/thirdparty/bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="clientlibs/ace-www/base/css/style.css" />
    <!-- External Plugins JS : External plugin files loaded on need base -->
</head>

<body>
    <!-- The Main Wrapper
      ============================================= -->
    <div id="pagewrapper" class="clearfix container-custom">
        <!-- Header -->
        <header id="page-header"> </header>
        <div id="page-container">
            <!-- google search results components Starts Here -->
            <div class="search-results">
                <div class="search-header">
                    <div class="container">
                        <div class="row search-box">
                            <div class="col-md-8 col-sm-8">
                                <div class="search-box-handler">
                                    <div class="input-group search-box-input">
                                        <input type="text" name="searchKey" id="searchKey" class="search-input form-control roboto-light font-b" placeholder="Search here"> <span class="search-addon input-group-addon" id="searchSubmit"><i class="glyphicon glyphicon-search"></i></span> </div>
                                </div>
                            </div>
                            <div class="col-md-3 col-sm-3 hidden-xs search-box-input pull-right"><span class="result-no roboto-light font-h" id="resultsCount"></span></div>
                        </div>
                        <div class="row mobile-filter-grid hidden-sm hidden-md hidden-lg">
                            <div class="col-md-9 col-xs-7 text-center"> <span class="filter-title roboto-medium checked-list-item-main">All Results</span> <i class="glyphicon glyphicon-chevron-down"></i> </div>
                            <div class="col-md-3 col-xs-5 text-center filter-res-count"><span class="result-no roboto-medium font-h" id="resultsCount-m"></span></div>
                        </div>
                        <div class="row mobile-filter-list hidden-sm hidden-md hidden-lg">
                            <div class="col-md-12  mobile-gridview">
                                <ul class="filterlist-items">
                                    <li class="close-filters">FILTERS<span class="roboto-light font-c close-fliter-icon">X</span></li>
                                    <div class="results-categories">
                                        <div class="categorie-title">CATEGORIES</div>
                                        <ul>
                                            <li><a href="#" class="meta-data font-h active" metaName="testingMetaName" metaTag="testingMetaTagName">All</a></li>
                                            <li><a href="#" class="meta-data font-h" metaName="testingMetaName1" metaTag="testingMetaTagName1">Products & Services</a></li>
                                            <li><a href="#" class="meta-data font-h" metaName="testingMetaName2" metaTag="testingMetaTagName2">Publications</a></li>
                                            <li><a href="#" class="meta-data font-h" metaName="testingMetaName3" metaTag="testingMetaTagName3">Travel</a></li>
                                            <li><a href="#" class="meta-data font-h" metaName="testingMetaName4" metaTag="testingMetaTagName4">Events</a></li>
                                            <li><a href="#" class="meta-data font-h" metaName="testingMetaName5" metaTag="testingMetaTagName5">Discounts</a></li>
                                        </ul>
                                    </div>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="search-container">
                    <div class="container ">
                        <!--  Search input box -->
                        <!--  Results Grid will bind here -->
                        <div class="row results-grid">
                            <div class="col-md-8 col-sm-8">
                                <div class="resultContent"> </div>
                                <div id="page_navigation" class="pagination-grid1"> </div>
                                <!--<div class="row pagination-grid  horizontal-component-space ">
                                    <ul>
                                        <li class="page-links col-md-4 col-sm-4 col-xs-4"> <a href="#" title="Solid button" class="btn btn-style btn-sm btn-color-blue btn-reversed" id="prevPage"><span aria-hidden="true" class="prev-page glyphicon glyphicon-arrow-left"></span>Prev</a> </li>
                                        <li class="page-links col-md-4 col-sm-4 text-center col-xs-4">
                                            <input type="text" name="pageNumber" id="pageNumber" class="pagination-input form-control roboto-light font-h"><span class="text-center roboto-light font-h" id="totalListPages">
                        </span> </li>
                                        <li class="page-links col-md-4 col-sm-4 col-xs-4 pull-right"> <a href="#" title="Solid button" class="btn pull-right  btn-style btn-sm btn-color-blue btn-reversed" id="nextPage">Next<span aria-hidden="true" class="next-page glyphicon glyphicon-arrow-right "></span></a> </li>
                                    </ul>
                                </div>-->
                                <div class="clearfix"></div>
                                <div class="clearfix"></div>
                            </div>
                            <div class="col-md-3 col-sm-4 hidden-xs pull-right categorie-block">
                                <div class="filter-grid">
                                    <div class="results-categories">
                                        <div class="categorie-title">CATEGORIES</div>
                                        <ul>
                                            <li><a href="javascript:void(0);" class="meta-data font-h active" metaName="testingMetaName" metaTag="testingMetaTagName">All</a></li>
                                            <li><a href="javascript:void(0);" class="meta-data font-h" metaName="testingMetaName1" metaTag="testingMetaTagName1">Products & Services</a></li>
                                            <li><a href="javascript:void(0);" class="meta-data font-h" metaName="testingMetaName2" metaTag="testingMetaTagName2">Publications</a></li>
                                            <li><a href="javascript:void(0);" class="meta-data font-h" metaName="testingMetaName3" metaTag="testingMetaTagName3">Travel</a></li>
                                            <li><a href="javascript:void(0);" class="meta-data font-h" metaName="testingMetaName4" metaTag="testingMetaTagName4">Events</a></li>
                                            <li><a href="javascript:void(0);" class="meta-data font-h" metaName="testingMetaName5" metaTag="testingMetaTagName5">Discounts</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <!-- Error Message -->
                        <div class="error-message roboto-medium font-f"> </div>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <footer id="page-footer"> </footer>
    </div>
    <script>
        var metaName = "";
        var metaTag = "";
        var totalListPages;
        $(".error-message").hide();
        $(".close-fliter-icon").click(function () {
            $(".mobile-filter-list").hide();
        });
        $('.mobile-filter-grid').hide();
        $(".mobile-filter-list").hide();
        $('.mobile-filter-grid').click(function () {
            $(".mobile-filter-list").show();
        });
        /* Google Search API Funcionality */
        var searchkeyValue = "";
        $(".pagination-grid").hide();
        $(".results-grid").hide();
        $("#page_navigation").hide();
        var resultsPerPage = 10;
        var pageNumber = 1;
        $("#searchSubmit").click(function () {
            searchkeyValue = $("#searchKey").val();
            if (searchkeyValue) {
                localStorage.setItem("metaName", '');
                localStorage.setItem("metaTag", '');
                getResultData(searchkeyValue, '', 1, '', '', '');
                //window.location.href = 'gsearch.html?searchKeyValue=' + searckData;
            }
            else {
                $(".error-message").html("No search results found.");
                $(".error-message").show();
            }
        });
        //onEnter search event
        $("#searchKey").keyup(function (event) {
            if (event.keyCode == 13) {
                $('#searchSubmit').click();
            }
        });
        // Api Call based on page number
        function getResultData(searchkeyValue, navigation, currentPage, metaName, metaTag) {
            if (navigation === -1) {
                pageNumber = parseInt(pageNumber) - 1;
            }
            if (navigation === 1) {
                pageNumber = parseInt(pageNumber) + 1;
            }
            if (currentPage) {
                pageNumber = currentPage;
            }
            var validPage = ""
            validPage = (pageNumber * 10) + 1;
            validPage = validPage - 10;
            //var url = "https://www.googleapis.com/customsearch/v1?key=AIzaSyDb6ZxlQVRZJJQv-t7OQU5A2ibVLlw9d3o&cx=002841571323135263873:_kstmmls-cu&q=" + searchkeyValue + "&start=" + validPage + "&callback=?";
            var url = "https://www.googleapis.com/customsearch/v1?key=AIzaSyA5Q7Z1wbPOUa59IhoZYO52ulQjWAndn3I&cx=004650686028114475301:tlpfyltlij4&q=" + searchkeyValue + "&start=" + validPage + "&callback=?";
            // var url = "https://www.googleapis.com/customsearch/v1?key=AIzaSyBC-G6Eu9j36HTIkkCcw92_CVg_ONtK3Ec&cx=002841571323135263873:_kstmmls-cu&q=" + searchkeyValue + "&start=" + validPage + "&callback=?";
            $.getJSON(url, '', SearchCompleted);
        }
        // Final result appending to our html
        function SearchCompleted(response) {
            if (response.error) {
                var errorMessage = response.error.message;
                $(".pagination-grid").hide();
                $("#page_navigation").hide();
                $(".results-grid").hide();
                $(".result-no").hide();
                $(".mobile-filter-list").hide();
                $('.mobile-filter-grid').hide();
                $(".error-message").show();
                $(".error-message").html(errorMessage);
                pageNumber = 1;
            }
            else if (response.items == null || response.items.length === 0) {
                $(".pagination-grid").hide();
                $("#page_navigation").hide();
                $(".results-grid").hide();
                $(".result-no").hide();
                $(".mobile-filter-list").hide();
                $('.mobile-filter-grid').hide();
                $(".error-message").show();
                $(".error-message").html("No search results found.");
                pageNumber = 1;
            }
            else {
                $(".error-message").hide();
                $(".pagination-grid").show();
                $("#page_navigation").show();
                $(".results-grid").show();
                $(".result-no").show();
                //$(".mobile-filter-list").show();
                $('.mobile-filter-grid').show();
                var html = "";
                $("#resultsCount").html(response.searchInformation.formattedTotalResults + " results");
                $("#resultsCount-m").html(response.searchInformation.formattedTotalResults + " results");
                /* Navigation Links handling */
                var totalItems = response.searchInformation.totalResults;
                totalListPages = Math.round(totalItems / resultsPerPage);
                var indexCount = response.queries.request[0].startIndex;
                if (totalListPages > 1) {
                    $("#totalListPages").html("of " + totalListPages);
                }
                // loop handling
                for (var i = 0; i < response.items.length; i++) {
                    var item = response.items[i];
                    var responseTitle = item.htmlTitle;
                    var responseUrl = item.htmlFormattedUrl;
                    var responseData = item.htmlSnippet;
                    html += "<div class='result-item'><a href='" + item.link + "' class='link-btn link-lg roboto-medium font-f'>" + responseTitle + "</a><a href='" + item.link + "' class='link-btn link-lg roboto-light font-h result-link'>" + responseUrl + "</a><p class='roboto-light font-h'>" + responseData + "</p></div>";
                }
                /* pagination Logic start */
                if (parseInt(pageNumber) < 5) {
                    defaultPage = 1;
                    if (totalListPages < 5) {
                        defaultTotalPages = totalListPages;
                    }
                    else {
                        defaultTotalPages = 6;
                    }
                }
                else if (parseInt(pageNumber) > 5) {
                    defaultPage = parseInt(pageNumber) - 2;
                    defaultTotalPages = parseInt(pageNumber) + 3;
                }
                var navigation_html = '<div class="row pagination-grid  horizontal-component-space "><ul>';
                navigation_html += '<li class="page-links col-md-4 col-sm-4 col-xs-4">';
                navigation_html += '<a href="javascript:void(0);" title="Solid button" class="btn btn-style btn-sm btn-color-blue btn-reversed" id="prevPage"><span aria-hidden="true" class="prev-page glyphicon glyphicon-arrow-left"></span>Prev</a>';
                navigation_html += '</li>';
                for (var i = defaultPage; i < defaultTotalPages; i++) {
                    navigation_html += '<li class="page_link" id="id' + i + '">';
                    navigation_html += '<a href="javascript:void(0);" class="pagination-pageclick">' + (i) + '</a>';
                    navigation_html += '</li>';
                }
                navigation_html += '<li class="page-links col-md-4 col-sm-4 col-xs-4 pull-right">';
                navigation_html += '<a href="javascript:void(0);" title="Solid button" class="btn pull-right  btn-style btn-sm btn-color-blue btn-reversed" id="nextPage">Next<span aria-hidden="true" class="next-page glyphicon glyphicon-arrow-right "></span></a>';
                navigation_html += '</li>';
                navigation_html += '</ul><div>';
                $('#page_navigation').html(navigation_html);
                $(".page_link").removeClass("active");
                $("#id" + pageNumber).addClass('active');
                $('#nextPage').click(function () {
                    getResultData(searchkeyValue, 1, '', metaName, metaTag);
                });
                $('#prevPage').click(function () {
                    getResultData(searchkeyValue, -1, '', metaName, metaTag);
                });
                $(".pagination-pageclick").click(function () {
                    var selectedPage = $(this).text();
                    pageNumber = $(this).text();
                    getResultData(searchkeyValue, '', selectedPage, metaName, metaTag);
                });
                if (pageNumber === 1) {
                    $("#prevPage").addClass('disabled');
                }
                else if (pageNumber === totalListPages) {
                    $("#nextPage").addClass('disabled');
                }
                else {
                    $("#nextPage").removeClass('disabled');
                    $("#prevPage").removeClass('disabled');
                }
                $(".resultContent").html(html);
            }
        }
        /* Links disables handling */
        //Filter List click
        $(".meta-data").click(function () {
            metaName = $(this).attr('metaName');
            metaTag = $(this).attr('metaTag');
            localStorage.setItem("metaName", metaName);
            localStorage.setItem("metaTag", metaTag);
            $(".meta-data").removeClass("active");
            $("[metaName=" + metaName + "]").addClass("active");
            var currentListItem = $(this).text();
            $(".checked-list-item-main").html(currentListItem);
            $(".mobile-filter-list").hide();
            getResultData(searchkeyValue, '', pageNumber, metaName, metaTag);
        });
    </script>
</body>

</html>